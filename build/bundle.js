var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(o)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(e,t,n){e.$$.on_destroy.push(l(t,n))}function c(e){return null==e?"":e}function f(e,t,n=t){return e.set(n),t}const p="undefined"!=typeof window;let g=p?()=>window.performance.now():()=>Date.now(),d=p?e=>requestAnimationFrame(e):e;const h=new Set;function v(e){h.forEach((t=>{t.c(e)||(h.delete(t),t.f())})),0!==h.size&&d(v)}function m(e){let t;return 0===h.size&&d(v),{promise:new Promise((n=>{h.add(t={c:e,f:n})})),abort(){h.delete(t)}}}function y(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function x(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function L(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function S(e){return document.createTextNode(e)}function $(){return S(" ")}function O(){return S("")}function E(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function N(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t){e.value=null==t?"":t}function C(e,t,n){e.classList[n?"add":"remove"](t)}const P=new Set;let _,A=0;function T(e,t,n,o,r,i,s,a=0){const l=16.666/o;let u="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*i(e);u+=100*e+`%{${s(o,1-o)}}\n`}const c=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(c)}_${a}`,p=e.ownerDocument;P.add(p);const g=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(k("style")).sheet),d=p.__svelte_rules||(p.__svelte_rules={});d[f]||(d[f]=!0,g.insertRule(`@keyframes ${f} ${c}`,g.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${f} ${o}ms linear ${r}ms 1 both`,A+=1,f}function F(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),A-=r,A||d((()=>{A||(P.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),P.clear())})))}function I(e){_=e}function V(){if(!_)throw new Error("Function called outside component initialization");return _}const H=[],D=[],z=[],U=[],M=Promise.resolve();let K=!1;function W(e){z.push(e)}function B(e){U.push(e)}let q=!1;const G=new Set;function J(){if(!q){q=!0;do{for(let e=0;e<H.length;e+=1){const t=H[e];I(t),X(t.$$)}for(I(null),H.length=0;D.length;)D.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];G.has(t)||(G.add(t),t())}z.length=0}while(H.length);for(;U.length;)U.pop()();K=!1,q=!1,G.clear()}}function X(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(W)}}let Y;function Z(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const Q=new Set;let ee;function te(){ee={r:0,c:[],p:ee}}function ne(){ee.r||i(ee.c),ee=ee.p}function oe(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function re(e,t,n,o){if(e&&e.o){if(Q.has(e))return;Q.add(e),ee.c.push((()=>{Q.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const ie={duration:0};function se(n,o,r,a){let l=o(n,r),u=a?0:1,c=null,f=null,p=null;function d(){p&&F(n,p)}function h(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(o){const{delay:r=0,duration:s=300,easing:a=t,tick:v=e,css:y}=l||ie,b={start:g()+r,b:o};o||(b.group=ee,ee.r+=1),c||f?f=b:(y&&(d(),p=T(n,u,o,s,r,a,y)),o&&v(0,1),c=h(b,s),W((()=>Z(n,o,"start"))),m((e=>{if(f&&e>f.start&&(c=h(f,s),f=null,Z(n,c.b,"start"),y&&(d(),p=T(n,u,c.b,c.duration,0,a,l.css))),c)if(e>=c.end)v(u=c.b,1-u),Z(n,c.b,"end"),f||(c.b?d():--c.group.r||i(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;u=c.a+c.d*a(t/c.duration),v(u,1-u)}return!(!c&&!f)})))}return{run(e){s(l)?(Y||(Y=Promise.resolve(),Y.then((()=>{Y=null}))),Y).then((()=>{l=l(),v(e)})):v(e)},end(){d(),c=f=null}}}function ae(e,t){const n={},o={},r={$$scope:1};let i=e.length;for(;i--;){const s=e[i],a=t[i];if(a){for(const e in s)e in a||(o[e]=1);for(const e in a)r[e]||(n[e]=a[e],r[e]=1);e[i]=a}else for(const e in s)r[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}function le(e){return"object"==typeof e&&null!==e?e:{}}function ue(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ce(e){e&&e.c()}function fe(e,t,n){const{fragment:r,on_mount:a,on_destroy:l,after_update:u}=e.$$;r&&r.m(t,n),W((()=>{const t=a.map(o).filter(s);l?l.push(...t):i(t),e.$$.on_mount=[]})),u.forEach(W)}function pe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ge(e,t){-1===e.$$.dirty[0]&&(H.push(e),K||(K=!0,M.then(J)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(t,n,o,s,a,l,u=[-1]){const c=_;I(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let p=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&ge(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&oe(t.$$.fragment),fe(t,n.target,n.anchor),J()}I(c)}class he{$destroy(){pe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ve=[];function me(e,t){return{subscribe:ye(e,t).subscribe}}function ye(t,n=e){let o;const r=[];function i(e){if(a(t,e)&&(t=e,o)){const e=!ve.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),ve.push(n,t)}if(e){for(let e=0;e<ve.length;e+=2)ve[e][0](ve[e+1]);ve.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,a=e){const l=[s,a];return r.push(l),1===r.length&&(o=n(i)||e),s(t),()=>{const e=r.indexOf(l);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}function be(t,n,o){const r=!Array.isArray(t),a=r?[t]:t,u=n.length<2;return me(o,(t=>{let o=!1;const c=[];let f=0,p=e;const g=()=>{if(f)return;p();const o=n(r?c[0]:c,t);u?t(o):p=s(o)?o:e},d=a.map(((e,t)=>l(e,(e=>{c[t]=e,f&=~(1<<t),o&&g()}),(()=>{f|=1<<t}))));return o=!0,g(),function(){i(d),p()}}))}function we(e){return"[object Date]"===Object.prototype.toString.call(e)}function xe(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>xe(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(we(e)&&we(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),o={};return n.forEach((n=>{o[n]=xe(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=o[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function ke(e,o={}){const r=ye(e);let i,s=e;function a(a,l){if(null==e)return r.set(e=a),Promise.resolve();s=a;let u=i,c=!1,{delay:f=0,duration:p=400,easing:d=t,interpolate:h=xe}=n(n({},o),l);if(0===p)return u&&(u.abort(),u=null),r.set(e=s),Promise.resolve();const v=g()+f;let y;return i=m((t=>{if(t<v)return!0;c||(y=h(e,a),"function"==typeof p&&(p=p(e,a)),c=!0),u&&(u.abort(),u=null);const n=t-v;return n>p?(r.set(e=a),!1):(r.set(e=y(d(n/p))),!0)})),i.promise}return{set:a,update:(t,n)=>a(t(s,e),n),subscribe:r.subscribe}}function Le(t){let n,o,r,i;return{c(){n=k("div"),o=k("textarea"),N(o,"class","svelte-1i2crz7")},m(e,s){b(e,n,s),y(n,o),j(o,t[0]),r||(i=E(o,"input",t[1]),r=!0)},p(e,[t]){1&t&&j(o,e[0])},i:e,o:e,d(e){e&&w(n),r=!1,i()}}}function Se(e,t,n){let{content:o=null}=t;return e.$$set=e=>{"content"in e&&n(0,o=e.content)},[o,function(){o=this.value,n(0,o)}]}class $e extends he{constructor(e){super(),de(this,e,Se,Le,a,{content:0})}}function Oe(t){let n,o;return{c(){n=k("p"),o=S(t[2]),N(n,"class","description svelte-1httfs")},m(e,t){b(e,n,t),y(n,o)},p(e,t){4&t&&R(o,e[2])},i:e,o:e,d(e){e&&w(n)}}}function Ee(e){let t,n,o;function r(t){e[25](t)}let i={};return void 0!==e[0]&&(i.content=e[0]),t=new $e({props:i}),D.push((()=>ue(t,"content",r))),{c(){ce(t.$$.fragment)},m(e,n){fe(t,e,n),o=!0},p(e,o){const r={};!n&&1&o&&(n=!0,r.content=e[0],B((()=>n=!1))),t.$set(r)},i(e){o||(oe(t.$$.fragment,e),o=!0)},o(e){re(t.$$.fragment,e),o=!1},d(e){pe(t,e)}}}function Ne(e){let t,n,o,r,s,a,l,u,f,p,g,d,h,v,m,x,O,j,P,_,A,T,F;const I=[Ee,Oe],V=[];function H(e,t){return e[4]?0:1}return j=H(e),P=V[j]=I[j](e),{c(){t=L("g"),n=L("g"),o=L("ellipse"),a=L("rect"),h=L("foreignObject"),v=k("section"),m=k("h2"),x=S(e[1]),O=$(),P.c(),N(o,"class",r=c(e[3].toLowerCase())+" svelte-1httfs"),N(o,"rx",s=Math.round(e[7]*(.5+e[8]))),C(o,"hovered",e[5]),C(o,"focussed",e[4]),N(a,"class","rect svelte-1httfs"),N(a,"transform",l="translate("+-e[7]/2+" "+-e[7]/2+")"),N(a,"x",u=.1*e[7]),N(a,"y",f=.1*e[7]),N(a,"width",p=.8*e[7]),N(a,"height",g=.8*e[7]),N(n,"transform",d="scale("+e[10]+")"),N(m,"class","svelte-1httfs"),N(v,"class","svelte-1httfs"),N(h,"class","node svelte-1httfs"),N(h,"x",e[11]),N(h,"y",e[11]),N(h,"width",e[9]),N(h,"height",e[9]),C(h,"focussed",e[4]),N(t,"transform",_="translate("+e[12]+" "+e[13]+")"),N(t,"class","svelte-1httfs"),C(t,"dimmed",e[6])},m(r,i){b(r,t,i),y(t,n),y(n,o),y(n,a),y(t,h),y(h,v),y(v,m),y(m,x),y(v,O),V[j].m(v,null),A=!0,T||(F=[E(t,"mouseover",e[26]),E(t,"mouseout",e[27]),E(t,"click",e[28])],T=!0)},p(e,[i]){(!A||8&i&&r!==(r=c(e[3].toLowerCase())+" svelte-1httfs"))&&N(o,"class",r),(!A||384&i&&s!==(s=Math.round(e[7]*(.5+e[8]))))&&N(o,"rx",s),40&i&&C(o,"hovered",e[5]),24&i&&C(o,"focussed",e[4]),(!A||128&i&&l!==(l="translate("+-e[7]/2+" "+-e[7]/2+")"))&&N(a,"transform",l),(!A||128&i&&u!==(u=.1*e[7]))&&N(a,"x",u),(!A||128&i&&f!==(f=.1*e[7]))&&N(a,"y",f),(!A||128&i&&p!==(p=.8*e[7]))&&N(a,"width",p),(!A||128&i&&g!==(g=.8*e[7]))&&N(a,"height",g),(!A||1024&i&&d!==(d="scale("+e[10]+")"))&&N(n,"transform",d),(!A||2&i)&&R(x,e[1]);let m=j;j=H(e),j===m?V[j].p(e,i):(te(),re(V[m],1,1,(()=>{V[m]=null})),ne(),P=V[j],P?P.p(e,i):(P=V[j]=I[j](e),P.c()),oe(P,1),P.m(v,null)),(!A||2048&i)&&N(h,"x",e[11]),(!A||2048&i)&&N(h,"y",e[11]),(!A||512&i)&&N(h,"width",e[9]),(!A||512&i)&&N(h,"height",e[9]),16&i&&C(h,"focussed",e[4]),(!A||12288&i&&_!==(_="translate("+e[12]+" "+e[13]+")"))&&N(t,"transform",_),64&i&&C(t,"dimmed",e[6])},i(e){A||(oe(P),A=!0)},o(e){re(P),A=!1},d(e){e&&w(t),V[j].d(),T=!1,i(F)}}}function Re(e,t,n){let o,r,i,{title:s}=t,{description:a}=t,{group:l}=t,{row:c}=t,{column:f}=t,{focussed:p=!1}=t,{hovered:g=!1}=t,{dimmed:d=!1}=t,{setHover:h=(()=>{})}=t,{setFocus:v=(()=>{})}=t,{size:m}=t,{overlap:y}=t,{canvasHeight:b=100}=t,{content:w=null}=t,x=ke(1,{duration:250});u(e,x,(e=>n(10,o=e)));let k=ke((f+.5)*m,{duration:250});u(e,k,(e=>n(12,r=e)));let L=ke((c+.5)*m,{duration:250});u(e,L,(e=>n(13,i=e)));const S=()=>h(!0),$=()=>h(!1),O=()=>v(!0);let E,N;return e.$$set=e=>{"title"in e&&n(1,s=e.title),"description"in e&&n(2,a=e.description),"group"in e&&n(3,l=e.group),"row"in e&&n(20,c=e.row),"column"in e&&n(21,f=e.column),"focussed"in e&&n(4,p=e.focussed),"hovered"in e&&n(5,g=e.hovered),"dimmed"in e&&n(6,d=e.dimmed),"setHover"in e&&n(22,h=e.setHover),"setFocus"in e&&n(23,v=e.setFocus),"size"in e&&n(7,m=e.size),"overlap"in e&&n(8,y=e.overlap),"canvasHeight"in e&&n(24,b=e.canvasHeight),"content"in e&&n(0,w=e.content)},e.$$.update=()=>{19923120&e.$$.dirty&&(p?(x.set(4),k.set(b/2),L.set(b/2)):(x.set(g?1.05:1),k.set((f+.5)*m),L.set((c+.5)*m))),1680&e.$$.dirty&&(n(9,E=m*(p?o:1)*.8),n(11,N=-E/2))},[w,s,a,l,p,g,d,m,y,E,o,N,r,i,x,k,L,S,$,O,c,f,h,v,b,function(e){w=e,n(0,w)},()=>S(),()=>$(),()=>O()]}class je extends he{constructor(e){super(),de(this,e,Re,Ne,a,{title:1,description:2,group:3,row:20,column:21,focussed:4,hovered:5,dimmed:6,setHover:22,setFocus:23,size:7,overlap:8,canvasHeight:24,content:0})}}function Ce(e){let t,n,o,r,i,a,l;var u=e[3];return u&&(o=new u({})),{c(){t=L("g"),n=L("rect"),o&&ce(o.$$.fragment),N(n,"x","0"),N(n,"y","0"),N(n,"width","50"),N(n,"height","50"),N(n,"class","svelte-103ckom"),N(t,"transform",r="translate("+e[1]+" "+e[2]+")")},m(r,u){b(r,t,u),y(t,n),o&&fe(o,t,null),i=!0,a||(l=E(t,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),a=!0)},p(n,[s]){if(u!==(u=(e=n)[3])){if(o){te();const e=o;re(e.$$.fragment,1,0,(()=>{pe(e,1)})),ne()}u?(o=new u({}),ce(o.$$.fragment),oe(o.$$.fragment,1),fe(o,t,null)):o=null}(!i||6&s&&r!==(r="translate("+e[1]+" "+e[2]+")"))&&N(t,"transform",r)},i(e){i||(o&&oe(o.$$.fragment,e),i=!0)},o(e){o&&re(o.$$.fragment,e),i=!1},d(e){e&&w(t),o&&pe(o),a=!1,l()}}}function Pe(e,t,n){let{action:o}=t,{x:r}=t,{y:i}=t,{icon:s}=t;return e.$$set=e=>{"action"in e&&n(0,o=e.action),"x"in e&&n(1,r=e.x),"y"in e&&n(2,i=e.y),"icon"in e&&n(3,s=e.icon)},[o,r,i,s]}class _e extends he{constructor(e){super(),de(this,e,Pe,Ce,a,{action:0,x:1,y:2,icon:3})}}function Ae(t){let n,o,r;return{c(){n=L("line"),o=$(),r=L("line"),N(n,"x1","10"),N(n,"y1","10"),N(n,"x2","40"),N(n,"y2","40"),N(n,"class","svelte-f12h5g"),N(r,"x1","10"),N(r,"y1","40"),N(r,"x2","40"),N(r,"y2","10"),N(r,"class","svelte-f12h5g")},m(e,t){b(e,n,t),b(e,o,t),b(e,r,t)},p:e,i:e,o:e,d(e){e&&w(n),e&&w(o),e&&w(r)}}}class Te extends he{constructor(e){super(),de(this,e,null,Ae,a,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Fe;!function(e){e.KNOW="KNOW",e.EXPLORE="EXPLORE",e.PLAN="PLAN",e.INTEGRATE="INTEGRATE"}(Fe||(Fe={}));const Ie=[{group:Fe.KNOW,title:"Data Sources",description:"Name/describe your project’s key data sources, whether you’re collecting data yourself or accessing via third parties.",row:0,column:0},{group:Fe.KNOW,title:"Rights around data sources",description:"Where did you get the data from? Is it produced by an organisation or collected directly from individuals?",row:0,column:1},{group:Fe.KNOW,title:"Limitations in data sources",description:"Are there limitations that could influence your project’s outcomes?",row:0,column:2},{group:Fe.KNOW,title:"Ethical and legislative context",description:"What existing ethical codes apply to your sector or project? What legislation, policies, or other regulation shape how you use data?",row:0,column:3},{group:Fe.EXPLORE,title:"Your reason for using data",description:"What is your primary purpose for collecting and using data in this project?",row:1,column:0},{group:Fe.EXPLORE,title:"Positive effects on people",description:"Which individuals, groups, demographics or organisations will be positively affected by this project? How?",row:1,column:1},{group:Fe.EXPLORE,title:"Negative effects on people",description:"Who could be negatively affected by this project?",row:1,column:2},{group:Fe.EXPLORE,title:"Minimising negative effects",description:"What steps can you take to minimise harm?",row:1,column:3},{group:Fe.PLAN,title:"Engaging with people",description:"How can people engage with you about the project?",row:2,column:0},{group:Fe.PLAN,title:"Communicating your purpose",description:"Do people understand your purpose – especially people whom the data is about or who are impacted by its use?",row:2,column:1},{group:Fe.PLAN,title:"Openness and transparency",description:"How open can you be about this project? Could you publish your methodology, metadata, datasets, code or impact measurements?",row:2,column:2},{group:Fe.PLAN,title:"Sharing data with others",description:"Are you going to be sharing data with other organisations? If so, who?",row:2,column:3},{group:Fe.INTEGRATE,title:"Ongoing implementation",description:"Are you routinely building in thoughts, ideas and considerations of people affected by your project? How?",row:0,column:4},{group:Fe.INTEGRATE,title:"Reviews and iterations",description:"How will ongoing data ethics issues be measured, monitored, discussed and actioned?",row:1,column:4},{group:Fe.INTEGRATE,title:"Your actions",description:"What actions will you take before moving forward with this project? Which should take priority?",row:2,column:4}];var Ve,He=new Uint8Array(16);function De(){if(!Ve&&!(Ve="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ve(He)}var ze=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ue(e){return"string"==typeof e&&ze.test(e)}for(var Me=[],Ke=0;Ke<256;++Ke)Me.push((Ke+256).toString(16).substr(1));function We(e,t,n){var o=(e=e||{}).random||(e.rng||De)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Me[e[t+0]]+Me[e[t+1]]+Me[e[t+2]]+Me[e[t+3]]+"-"+Me[e[t+4]]+Me[e[t+5]]+"-"+Me[e[t+6]]+Me[e[t+7]]+"-"+Me[e[t+8]]+Me[e[t+9]]+"-"+Me[e[t+10]]+Me[e[t+11]]+Me[e[t+12]]+Me[e[t+13]]+Me[e[t+14]]+Me[e[t+15]]).toLowerCase();if(!Ue(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const Be=new Event("odi_canvasreset"),qe="canvas_current_key";let Ge=localStorage.getItem(qe)||We();const Je=()=>({uuid:Ge,blobs:Ie}),Xe=(()=>{const{subscribe:e,set:t,update:n}=ye(JSON.parse(localStorage.getItem(Ge))||Je());return{subscribe:e,set:t,update:n,loadCanvas:({blobs:e,uuid:n})=>{t({blobs:e,uuid:n})},resetState:()=>{Ge=We(),t(Je()),dispatchEvent(Be)}}})(),Ye=be(Xe,(e=>({uuid:e.uuid,blobs:e.blobs.map((e=>function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["hovered","focussed"])))})));Ye.subscribe((e=>{localStorage.setItem(qe,Ge),localStorage.setItem(Ge,JSON.stringify(e))}));const Ze=()=>Object.entries(localStorage).filter((([e,t])=>e!==qe)).map((([e,t])=>e)),Qe=me(Ze(),(e=>{const t=()=>e(Ze());return addEventListener("odi_canvasreset",t,!1),()=>removeEventListener("odi_canvasreset",t,!1)}));function et(e,{delay:n=0,duration:o=400,easing:r=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:r,css:e=>"opacity: "+e*i}}function tt(e,t,n){const o=e.slice();return o[9]=t[n],o[10]=t,o[11]=n,o}function nt(e,t,n){const o=e.slice();return o[12]=t[n],o}function ot(t){let n;return{c(){n=L("ellipse"),N(n,"cy",Math.floor(t[12]/5)),N(n,"cx",t[12]%5),N(n,"rx",.5+2*t[2].overlap)},m(e,t){b(e,n,t)},p:e,d(e){e&&w(n)}}}function rt(e){let t,o;function r(...t){return e[5](e[9],e[10],e[11],...t)}function i(...t){return e[6](e[9],e[10],e[11],...t)}const s=[e[9],{setHover:r},{setFocus:i},e[2],{canvasHeight:e[4]}];let a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return t=new je({props:a}),{c(){ce(t.$$.fragment)},m(e,n){fe(t,e,n),o=!0},p(n,o){e=n;const a=21&o?ae(s,[1&o&&le(e[9]),1&o&&{setHover:r},1&o&&{setFocus:i},4&o&&le(e[2]),16&o&&{canvasHeight:e[4]}]):{};t.$set(a)},i(e){o||(oe(t.$$.fragment,e),o=!0)},o(e){re(t.$$.fragment,e),o=!1},d(e){pe(t,e)}}}function it(e){let t,n,o=e[11]!==e[1]&&rt(e);return{c(){o&&o.c(),t=O()},m(e,r){o&&o.m(e,r),b(e,t,r),n=!0},p(e,n){e[11]!==e[1]?o?(o.p(e,n),2&n&&oe(o,1)):(o=rt(e),o.c(),oe(o,1),o.m(t.parentNode,t)):o&&(te(),re(o,1,1,(()=>{o=null})),ne())},i(e){n||(oe(o),n=!0)},o(e){re(o),n=!1},d(e){o&&o.d(e),e&&w(t)}}}function st(e){let t,o,r,i,s,a,l;const u=[e[0].blobs[e[1]],e[2],{canvasHeight:e[4]}];function c(t){e[7](t)}let f={};for(let e=0;e<u.length;e+=1)f=n(f,u[e]);return void 0!==e[0].blobs[e[1]].content&&(f.content=e[0].blobs[e[1]].content),r=new je({props:f}),D.push((()=>ue(r,"content",c))),s=new _e({props:{x:lt*e[2].size-50,y:"0",action:e[8],icon:Te}}),{c(){t=L("g"),o=L("rect"),ce(r.$$.fragment),ce(s.$$.fragment),N(o,"class","overlay svelte-xeznoy"),N(o,"x",-e[3]),N(o,"y",-e[3]-ct),N(o,"width",lt*e[2].size+2*e[3]),N(o,"height",e[4]+2*e[3]+ct),N(t,"class","editor")},m(e,n){b(e,t,n),y(t,o),fe(r,t,null),fe(s,t,null),l=!0},p(e,t){const n=23&t?ae(u,[3&t&&le(e[0].blobs[e[1]]),4&t&&le(e[2]),16&t&&{canvasHeight:e[4]}]):{};!i&&3&t&&(i=!0,n.content=e[0].blobs[e[1]].content,B((()=>i=!1))),r.$set(n);const o={};3&t&&(o.action=e[8]),s.$set(o)},i(e){l||(oe(r.$$.fragment,e),oe(s.$$.fragment,e),W((()=>{a||(a=se(t,et,{},!0)),a.run(1)})),l=!0)},o(e){re(r.$$.fragment,e),re(s.$$.fragment,e),a||(a=se(t,et,{},!1)),a.run(0),l=!1},d(e){e&&w(t),pe(r),pe(s),e&&a&&a.end()}}}function at(e){let t,n,o,r,i,s,a,l=Array(lt*ut).fill(null).map(ft),u=[];for(let t=0;t<l.length;t+=1)u[t]=ot(nt(e,l,t));let c=e[0].blobs,f=[];for(let t=0;t<c.length;t+=1)f[t]=it(tt(e,c,t));const p=e=>re(f[e],1,1,(()=>{f[e]=null}));let g=e[1]>-1&&st(e);return{c(){t=L("svg"),n=L("g");for(let e=0;e<u.length;e+=1)u[e].c();o=L("rect"),r=L("text"),i=S("Data Ethics Canvas");for(let e=0;e<f.length;e+=1)f[e].c();s=O(),g&&g.c(),N(o,"width",lt-1),N(o,"height",ut-1),N(n,"class","cloud svelte-xeznoy"),N(n,"transform","scale("+e[2].size+") translate(0.5 0.5)"),N(r,"x",Math.round((lt+2*e[2].overlap)*e[2].size)),N(r,"y",-ct-5),N(r,"class","svelte-xeznoy"),N(t,"viewBox","-"+e[3]+" -"+(e[3]+ct)+" "+(lt*e[2].size+2*e[3])+" "+(e[4]+2*e[3]+ct)),N(t,"class","svelte-xeznoy")},m(e,l){b(e,t,l),y(t,n);for(let e=0;e<u.length;e+=1)u[e].m(n,null);y(n,o),y(t,r),y(r,i);for(let e=0;e<f.length;e+=1)f[e].m(t,null);y(t,s),g&&g.m(t,null),a=!0},p(e,[r]){if(4&r){let t;for(l=Array(lt*ut).fill(null).map(ft),t=0;t<l.length;t+=1){const i=nt(e,l,t);u[t]?u[t].p(i,r):(u[t]=ot(i),u[t].c(),u[t].m(n,o))}for(;t<u.length;t+=1)u[t].d(1);u.length=l.length}if(23&r){let n;for(c=e[0].blobs,n=0;n<c.length;n+=1){const o=tt(e,c,n);f[n]?(f[n].p(o,r),oe(f[n],1)):(f[n]=it(o),f[n].c(),oe(f[n],1),f[n].m(t,s))}for(te(),n=c.length;n<f.length;n+=1)p(n);ne()}e[1]>-1?g?(g.p(e,r),2&r&&oe(g,1)):(g=st(e),g.c(),oe(g,1),g.m(t,null)):g&&(te(),re(g,1,1,(()=>{g=null})),ne())},i(e){if(!a){for(let e=0;e<c.length;e+=1)oe(f[e]);oe(g),a=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)re(f[e]);re(g),a=!1},d(e){e&&w(t),x(u,e),x(f,e),g&&g.d()}}}const lt=5,ut=3,ct=40,ft=(e,t)=>t;function pt(e,t,n){let o,r;u(e,Xe,(e=>n(0,r=e)));const i={size:200,overlap:.05},s=i.size*i.overlap*4,a=ut*i.size;return e.$$.update=()=>{1&e.$$.dirty&&n(1,o=r.blobs.findIndex((e=>!0===e.focussed)))},[r,o,i,s,a,(e,t,n,o)=>{f(Xe,t[n].hovered=o,r)},(e,t,n,o)=>f(Xe,t[n].focussed=o,r),function(t){e.$$.not_equal(r.blobs[o].content,t)&&(r.blobs[o].content=t,Xe.set(r))},()=>setTimeout((()=>f(Xe,r.blobs[o].focussed=!1,r)),600)]}class gt extends he{constructor(e){super(),de(this,e,pt,at,a,{})}}function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ht(e,t,n[t])}))}return e}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function bt(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),e}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?wt(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}var $t={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Ot=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};mt(this,e),this.init(t,n)}return bt(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||$t,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,vt({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),Et=function(){function e(){mt(this,e),this.observers={}}return bt(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function Nt(){var e,t,n=new Promise((function(n,o){e=n,t=o}));return n.resolve=e,n.reject=t,n}function Rt(e){return null==e?"":""+e}function jt(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function Ct(e,t,n){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(r())return{};var s=o(i.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return r()?{}:{obj:e,k:o(i.shift())}}function Pt(e,t,n){var o=Ct(e,t,Object);o.obj[o.k]=n}function _t(e,t){var n=Ct(e,t),o=n.obj,r=n.k;if(o)return o[r]}function At(e,t,n){var o=_t(e,n);return void 0!==o?o:_t(t,n)}function Tt(e,t,n){for(var o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):Tt(e[o],t[o],n):e[o]=t[o]);return e}function Ft(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var It={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Vt(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return It[e]})):e}var Ht="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Dt=function(e){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return mt(this,t),n=xt(this,kt(t).call(this)),Ht&&Et.call(wt(n)),n.data=e||{},n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return St(t,e),bt(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split(".")),_t(this.data,i)}},{key:"addResource",value:function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var s=[e,t];n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=t,t=(s=e.split("."))[1]),this.addNamespaces(t),Pt(this.data,s,o),r.silent||this.emit("added",e,t,n,o)}},{key:"addResources",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});o.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=_t(this.data,s)||{};o?Tt(a,n,r):a=vt({},a,n),Pt(this.data,s,a),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?vt({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(Et),zt={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,r){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,o,r))})),t}},Ut={},Mt=function(e){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mt(this,t),n=xt(this,kt(t).call(this)),Ht&&Et.call(wt(n)),jt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,wt(n)),n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=Ot.create("translator"),n}return St(t,e),bt(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var i=e.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:e,namespaces:r};var s=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),e=s.join(o)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,n){var o=this;if("object"!==dt(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=this.extractFromKey(e[e.length-1],t),s=i.key,a=i.namespaces,l=a[a.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){var f=t.nsSeparator||this.options.nsSeparator;return l+f+s}return s}var p=this.resolve(e,t),g=p&&p.res,d=p&&p.usedKey||s,h=p&&p.exactUsedKey||s,v=Object.prototype.toString.apply(g),m=["[object Number]","[object Function]","[object RegExp]"],y=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(b&&g&&w&&m.indexOf(v)<0&&("string"!=typeof y||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,g,t):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(r){var x="[object Array]"===v,k=x?[]:{},L=x?h:d;for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)){var $="".concat(L).concat(r).concat(S);k[S]=this.translate($,vt({},t,{joinArrays:!1,ns:a})),k[S]===$&&(k[S]=g[S])}g=k}}else if(b&&"string"==typeof y&&"[object Array]"===v)(g=g.join(y))&&(g=this.extendTranslation(g,e,t,n));else{var O=!1,E=!1;if(!this.isValidLookup(g)&&void 0!==t.defaultValue){if(O=!0,void 0!==t.count){var N=this.pluralResolver.getSuffix(u,t.count);g=t["defaultValue".concat(N)]}g||(g=t.defaultValue)}this.isValidLookup(g)||(E=!0,g=s);var R=t.defaultValue&&t.defaultValue!==g&&this.options.updateMissing;if(E||O||R){if(this.logger.log(R?"updateKey":"missingKey",u,l,s,R?t.defaultValue:g),r){var j=this.resolve(s,vt({},t,{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var C=[],P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&P&&P[0])for(var _=0;_<P.length;_++)C.push(P[_]);else"all"===this.options.saveMissingTo?C=this.languageUtils.toResolveHierarchy(t.lng||this.language):C.push(t.lng||this.language);var A=function(e,n){o.options.missingKeyHandler?o.options.missingKeyHandler(e,l,n,R?t.defaultValue:g,R,t):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,l,n,R?t.defaultValue:g,R,t),o.emit("missingKey",e,l,n,g)};if(this.options.saveMissing){var T=void 0!==t.count&&"string"!=typeof t.count;this.options.saveMissingPlurals&&T?C.forEach((function(e){o.pluralResolver.getPluralFormsOfKey(e,s).forEach((function(t){return A([e],t)}))})):A(C,s)}}g=this.extendTranslation(g,e,t,p,n),E&&g===s&&this.options.appendNamespaceToMissingKey&&(g="".concat(l,":").concat(s)),E&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(e,t,n,o,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(vt({},n,{interpolation:vt({},this.options.interpolation,n.interpolation)}));var s,a=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(a){var l=e.match(this.interpolator.nestingRegexp);s=l&&l.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=vt({},this.options.interpolation.defaultVariables,u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),a){var c=e.match(this.interpolator.nestingRegexp);s<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r&&r[0]===o[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(t[0])),null):i.translate.apply(i,o.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,p="string"==typeof f?[f]:f;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=zt.handle(p,e,t,this.options&&this.options.postProcessPassResolved?vt({i18nResolved:o},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,o,r,i,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var l=s.extractFromKey(e,a),u=l.key;n=u;var c=l.namespaces;s.options.fallbackNS&&(c=c.concat(s.options.fallbackNS));var f=void 0!==a.count&&"string"!=typeof a.count,p=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,g=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);c.forEach((function(e){s.isValidLookup(t)||(i=e,!Ut["".concat(g[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(i)&&(Ut["".concat(g[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){if(!s.isValidLookup(t)){r=n;var i,l,c=u,g=[c];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(g,u,n,e,a);else f&&(i=s.pluralResolver.getSuffix(n,a.count)),f&&p&&g.push(c+i),p&&g.push(c+="".concat(s.options.contextSeparator).concat(a.context)),f&&g.push(c+=i);for(;l=g.pop();)s.isValidLookup(t)||(o=l,t=s.getResource(n,e,l,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:o,usedLng:r,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}}]),t}(Et);function Kt(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Wt=function(){function e(t){mt(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ot.create("languageUtils")}return bt(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Kt(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Kt(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Kt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var o=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(o)||(t=o)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var o=n.getLanguagePartFromCode(e);if(n.isSupportedCode(o))return t=o;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(o))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),o.forEach((function(e){r.indexOf(e)<0&&i(n.formatLanguageCode(e))})),r}}]),e}(),Bt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],qt={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function Gt(){var e={};return Bt.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:qt[t.fc]}}))})),e}var Jt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};mt(this,e),this.languageUtils=t,this.options=n,this.logger=Ot.create("pluralResolver"),this.rules=Gt()}return bt(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=this,o=[],r=this.getRule(e);return r?(r.numbers.forEach((function(r){var i=n.getSuffix(e,r);o.push("".concat(t).concat(i))})),o):o}},{key:"getSuffix",value:function(e,t){var n=this,o=this.getRule(e);if(o){var r=o.noAbs?o.plurals(t):o.plurals(Math.abs(t)),i=o.numbers[r];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var s=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),Xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};mt(this,e),this.logger=Ot.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return bt(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Vt,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Ft(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Ft(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Ft(t.nestingPrefix):t.nestingPrefixEscaped||Ft("$t("),this.nestingSuffix=t.nestingSuffix?Ft(t.nestingSuffix):t.nestingSuffixEscaped||Ft(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,o){var r,i,s,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(a.formatSeparator)<0){var r=At(t,l,e);return a.alwaysFormat?a.format(r,void 0,n):r}var i=e.split(a.formatSeparator),s=i.shift().trim(),u=i.join(a.formatSeparator).trim();return a.format(At(t,l,s),u,n,o)};this.resetRegExp();var f=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?u(a.escape(e)):u(e)}}].forEach((function(t){for(s=0;r=t.regex.exec(e);){if(void 0===(i=c(r[1].trim())))if("function"==typeof f){var n=f(e,r,o);i="string"==typeof n?n:""}else{if(p){i=r[0];continue}a.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),i=""}else"string"==typeof i||a.useRawValueToEscape||(i=Rt(i));if(e=e.replace(r[0],t.safeValue(i)),t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,o,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=vt({},i);function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var o=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(o[1]);e=o[0],r=(r=this.interpolate(r,s)).replace(/'/g,'"');try{s=JSON.parse(r),t&&(s=vt({},t,s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((o=t(a.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=Rt(o)),o||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),o=""),u&&(o=l.reduce((function(e,t){return r.format(e,t,i.lng,i)}),o.trim())),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e}}]),e}();var Yt=function(e){function t(e,n,o){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return mt(this,t),r=xt(this,kt(t).call(this)),Ht&&Et.call(wt(r)),r.backend=e,r.store=n,r.services=o,r.languageUtils=o.languageUtils,r.options=i,r.logger=Ot.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(o,i.backend,i),r}return St(t,e),bt(t,[{key:"queueLoad",value:function(e,t,n,o){var r=this,i=[],s=[],a=[],l=[];return e.forEach((function(e){var o=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?s.indexOf(a)<0&&s.push(a):(r.state[a]=1,o=!1,s.indexOf(a)<0&&s.push(a),i.indexOf(a)<0&&i.push(a),l.indexOf(t)<0&&l.push(t)))})),o||a.push(e)})),(i.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:o}),{toLoad:i,pending:s,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var o=e.split("|"),r=o[0],i=o[1];t&&this.emit("failedLoading",r,i,t),n&&this.store.addResourceBundle(r,i,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){var o,a,l,u,c,f;o=n.loaded,a=i,u=Ct(o,[r],Object),c=u.obj,f=u.k,c[f]=c[f]||[],l&&(c[f]=c[f].concat(a)),l||c[f].push(a),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,l){a&&l&&r<5?setTimeout((function(){o.read.call(o,e,t,n,r+1,2*i,s)}),i):s(a,l)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,o,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),r=o[0],i=o[1];this.read(r,i,"read",void 0,void 0,(function(o,s){o&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(r," failed"),o),!o&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(r),s),t.loaded(e,o,s)}))}},{key:"saveMissing",value:function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,o,null,vt({},i,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,o))}}]),t}(Et);function Zt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===dt(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===dt(e[2])||"object"===dt(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function Qt(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function en(){}var tn=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(mt(this,t),e=xt(this,kt(t).call(this)),Ht&&Et.call(wt(e)),e.options=Qt(n),e.services={},e.logger=Ot,e.modules={external:[]},o&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,o),xt(e,wt(e));setTimeout((function(){e.init(n,o)}),0)}return e}return St(t,e),bt(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=vt({},Zt(),this.options,Qt(t)),this.format=this.options.interpolation.format,n||(n=en),!this.options.isClone){this.modules.logger?Ot.init(o(this.modules.logger),this.options):Ot.init(null,this.options);var r=new Wt(this.options);this.store=new Dt(this.options.resources,this.options);var i=this.services;i.logger=Ot,i.resourceStore=this.store,i.languageUtils=r,i.pluralResolver=new Jt(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new Xt(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new Yt(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Mt(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.length>0&&"dev"!==s[0]&&(this.options.lng=s[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var a=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];a.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var u=Nt(),c=function(){var t=function(t,o){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(o),n(t,o)};if(e.languages&&"v1"!==e.options.compatibilityAPI)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en,o=n,r="string"==typeof e?e:this.language;if("function"==typeof e&&(o=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return o();var i=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(r)s(r);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(i,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function(e,t,n){var o=Nt();return e||(e=this.languages),t||(t=this.options.ns),n||(n=en),this.services.backendConnector.reload(e,t,(function(e){o.resolve(),n(e)})),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&zt.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var o=Nt();this.emit("languageChanging",e);var r=function(e){var r="string"==typeof e?e:n.services.languageUtils.getBestMatchFromCodes(e);r&&(n.language||(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r)),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){!function(e,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,o.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t){var n=this,o=function e(t,o){var r;if("object"!==dt(o)){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];r=n.options.overloadTranslationOptionHandler([t,o].concat(s))}else r=vt({},o);return r.lng=r.lng||e.lng,r.lngs=r.lngs||e.lngs,r.ns=r.ns||e.ns,n.t(t,r)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var s=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||2===o};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(o,e)||(!this.services.backendConnector.backend||!(!s(o,e)||r&&!s(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,o=Nt();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){o.resolve(),t&&t(e)})),o):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Nt();"string"==typeof e&&(e=[e]);var o=this.options.preload||[],r=e.filter((function(e){return o.indexOf(e)<0}));return r.length?(this.options.preload=o.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en,r=vt({},this.options,n,{isClone:!0}),i=new t(r),s=["store","services","language"];return s.forEach((function(t){i[t]=e[t]})),i.services=vt({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Mt(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(n))})),i.init(r,o),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}}]),t}(Et)),nn={en:{common:{Hello:"Hello"},group:{Title:"Filter by Group",KNOW:"Know",EXPLORE:"Explore",PLAN:"Plan",INTEGRATE:"Integrate"},file:{Download:"Download"}}};class on{constructor(){this.i18n=tn,this.initialize(),this.changeLanguage("en")}t(e,t){return this.i18n.t(e,t)}initialize(){this.i18n.init({lng:"en",fallbackLng:"en",debug:!0,defaultNS:"common",fallbackNS:"common",resources:nn,interpolation:{escapeValue:!1}})}changeLanguage(e){this.i18n.changeLanguage(e)}}class rn{constructor(e){e.initialize(),this.locale=this.createLocale(e),this.translate=this.createTranslate(e)}createLocale(e){const{subscribe:t,set:n,update:o}=ye(e.i18n.language);return{subscribe:t,update:t=>{o((n=>{const o=t(n);return e.changeLanguage(o),o}))},set:t=>{e.changeLanguage(t),n(t)}}}createTranslate(e){return be([this.locale],(()=>(t,n)=>e.t(t,n)))}}const sn=e=>function(e,t){V().$$.context.set(e,t)}("t",e),an=()=>{return e="t",V().$$.context.get(e);var e};function ln(e,t,n){const o=e.slice();return o[13]=t[n],o}function un(e,t,n){const o=e.slice();return o[16]=t[n],o}function cn(e){let t,n,o,r,i,s,a=e[3](`group:${e[16]}`)+"";return{c(){t=k("input"),n=$(),o=k("label"),r=S(a),N(t,"id",e[16]),N(t,"type","checkbox"),t.__value=e[16],t.value=t.__value,e[11][0].push(t),N(o,"for",e[16])},m(a,l){b(a,t,l),t.checked=~e[0].indexOf(t.__value),b(a,n,l),b(a,o,l),y(o,r),i||(s=E(t,"change",e[10]),i=!0)},p(e,n){1&n&&(t.checked=~e[0].indexOf(t.__value)),8&n&&a!==(a=e[3](`group:${e[16]}`)+"")&&R(r,a)},d(r){r&&w(t),e[11][0].splice(e[11][0].indexOf(t),1),r&&w(n),r&&w(o),i=!1,s()}}}function fn(e){let t,n,o=e[13]+"";return{c(){t=k("li"),n=S(o)},m(e,o){b(e,t,o),y(t,n)},p(e,t){16&t&&o!==(o=e[13]+"")&&R(n,o)},d(e){e&&w(t)}}}function pn(t){let n,o,r,s,a,l,u,c,f,p,g,d,h,v,m,L,O,j,C,P=t[3]("group:Title")+"",_=t[3]("file:Download")+"",A=t[6],T=[];for(let e=0;e<A.length;e+=1)T[e]=cn(un(t,A,e));let F=t[4],I=[];for(let e=0;e<F.length;e+=1)I[e]=fn(ln(t,F,e));return{c(){n=k("aside"),o=k("button"),o.textContent="CLEAR TEMPLATE",r=$(),s=k("fieldset"),a=k("legend"),l=k("h2"),u=S(P),c=$();for(let e=0;e<T.length;e+=1)T[e].c();f=$(),p=k("a"),g=S(_),d=$(),h=k("h2"),h.textContent="Saved canvases",v=$(),m=k("ul");for(let e=0;e<I.length;e+=1)I[e].c();L=$(),O=k("button"),O.textContent="DELETE ALL",N(p,"href",t[1]),N(p,"download",t[2])},m(e,i){b(e,n,i),y(n,o),y(n,r),y(n,s),y(s,a),y(a,l),y(l,u),y(s,c);for(let e=0;e<T.length;e+=1)T[e].m(s,null);y(n,f),y(n,p),y(p,g),y(n,d),y(n,h),y(n,v),y(n,m);for(let e=0;e<I.length;e+=1)I[e].m(m,null);y(n,L),y(n,O),j||(C=[E(o,"click",t[9]),E(O,"click",t[12])],j=!0)},p(e,[t]){if(8&t&&P!==(P=e[3]("group:Title")+"")&&R(u,P),73&t){let n;for(A=e[6],n=0;n<A.length;n+=1){const o=un(e,A,n);T[n]?T[n].p(o,t):(T[n]=cn(o),T[n].c(),T[n].m(s,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=A.length}if(8&t&&_!==(_=e[3]("file:Download")+"")&&R(g,_),2&t&&N(p,"href",e[1]),4&t&&N(p,"download",e[2]),16&t){let n;for(F=e[4],n=0;n<F.length;n+=1){const o=ln(e,F,n);I[n]?I[n].p(o,t):(I[n]=fn(o),I[n].c(),I[n].m(m,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=F.length}},i:e,o:e,d(e){e&&w(n),x(T,e),x(I,e),j=!1,i(C)}}}function gn(e,t,n){let o,r,i,s,a,l;u(e,Xe,(e=>n(7,i=e))),u(e,Ye,(e=>n(8,s=e))),u(e,Qe,(e=>n(4,l=e)));const{t:c}=an();u(e,c,(e=>n(3,a=e)));const p=Object.keys(Fe);let g=p;const d=[[]];return e.$$.update=()=>{if(129&e.$$.dirty)for(let e=0;e<i.blobs.length;e++)f(Xe,i.blobs[e].dimmed=!g.includes(i.blobs[e].group),i);256&e.$$.dirty&&n(1,o=URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"}))),128&e.$$.dirty&&n(2,r=`DataEthicsCanvas_${i.uuid}.json`)},[g,o,r,a,l,c,p,i,s,()=>Xe.resetState(),function(){g=function(e,t,n){const o=new Set;for(let t=0;t<e.length;t+=1)e[t].checked&&o.add(e[t].__value);return n||o.delete(t),Array.from(o)}(d[0],this.__value,this.checked),n(0,g)},d,()=>{localStorage.clear(),Xe.resetState()}]}class dn extends he{constructor(e){super(),de(this,e,gn,pn,a,{})}}function hn(t){let n,o,r,i,s,a;return r=new gt({}),s=new dn({}),{c(){n=k("main"),o=k("article"),ce(r.$$.fragment),i=$(),ce(s.$$.fragment),N(n,"class","svelte-cg2kj3")},m(e,t){b(e,n,t),y(n,o),fe(r,o,null),y(o,i),fe(s,o,null),a=!0},p:e,i(e){a||(oe(r.$$.fragment,e),oe(s.$$.fragment,e),a=!0)},o(e){re(r.$$.fragment,e),re(s.$$.fragment,e),a=!1},d(e){e&&w(n),pe(r),pe(s)}}}function vn(e){return(()=>{const e=new on,t=new rn(e);console.log("INITIALIZING"),sn({t:t.translate,currentLanguage:t.locale})})(),[]}return new class extends he{constructor(e){super(),de(this,e,vn,hn,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
